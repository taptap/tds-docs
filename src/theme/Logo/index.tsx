import React from "react";
import useDocusaurusContext from "@docusaurus/useDocusaurusContext";
import Translate from "@docusaurus/Translate";
import { BRAND } from "../../constants/env";
import styles from "./styles.module.scss";

const LOGOS = {
  tds: (
    <svg
      width="857"
      height="250"
      viewBox="0 0 857 250"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M157.799 44.465H117.541C114.365 44.465 111.79 47.045 111.79 50.2276V190.452C111.79 191.992 111.176 193.467 110.083 194.55C108.991 195.633 107.512 196.232 105.975 196.215H72.1081C70.5886 196.215 69.1323 195.606 68.0639 194.523C66.9955 193.441 66.4038 191.975 66.4209 190.452V50.2276C66.4209 48.6993 65.815 47.2335 64.7365 46.1528C63.6579 45.0721 62.1951 44.465 60.6699 44.465H35.2374C17.3452 44.465 6.48209 44.465 0.667125 29.7382C-1.4109 19.4608 1.42601 8.80087 8.33521 0.924871C10.2522 -0.996015 14.1502 0.284576 13.4473 2.84576C12.7444 5.40694 15.4282 8.60842 21.1153 8.60842H157.799C159.318 8.60832 160.775 9.21749 161.843 10.3001C162.911 11.3827 163.503 12.8486 163.486 14.3711V37.4217C163.486 41.9038 160.994 44.465 157.799 44.465ZM203.104 163.56C208.289 163.256 213.327 161.72 217.802 159.078C222.983 156.183 226.403 150.911 226.939 144.992V82.2426C226.898 79.7351 225.399 77.4827 223.105 76.4799C218.506 75.3462 213.73 75.1287 209.047 75.8396C155.179 78.4008 164.189 168.682 203.104 163.56ZM230.006 177.006C229.689 175.933 228.768 175.15 227.659 175.011C226.551 174.872 225.466 175.404 224.894 176.366C221.934 180.967 218.268 185.073 214.031 188.531C207.371 193.403 199.267 195.885 191.027 195.575C144.316 195.575 134.155 146.272 134.155 128.344C134.155 104.012 140.546 50.8678 201.251 50.8678C210.039 50.5012 218.836 51.3632 227.387 53.429L228.089 50.8678C228.734 48.139 231 46.0974 233.777 45.7454H267.005C268.541 45.7283 270.021 46.3279 271.113 47.4104C272.205 48.493 272.82 49.9686 272.82 51.5081V150.754C272.82 157.797 270.903 178.287 285.6 183.409C286.663 183.743 287.429 184.673 287.553 185.782C287.678 186.891 287.137 187.969 286.175 188.531C251.733 209.021 235.055 192.245 230.006 177.006ZM401.197 120.66C401.197 84.8037 376.978 78.4007 369.246 78.4007C364.334 78.6233 359.533 79.9354 355.188 82.2425C353.142 83.5342 351.236 85.0364 349.501 86.7246C347.543 88.8141 346.408 91.544 346.306 94.4081V147.425C346.337 150.793 347.692 154.014 350.076 156.389C351.697 157.584 353.406 158.654 355.188 159.59C359.496 161.238 364.061 162.105 368.671 162.151C376.978 161.639 401.197 152.035 401.197 120.66ZM380.301 196.855C373.892 197.007 367.532 195.693 361.706 193.013C358.486 191.265 355.501 189.114 352.824 186.61C352.014 185.719 350.744 185.413 349.618 185.836C348.492 186.259 347.737 187.327 347.712 188.531V244.237C347.712 245.765 347.106 247.231 346.027 248.312C344.949 249.393 343.486 250 341.961 250H308.093C306.557 250.017 305.078 249.417 303.985 248.335C302.893 247.252 302.278 245.777 302.278 244.237V80.9616C302.278 55.3498 298.508 47.0259 288.22 45.7453C287.104 45.5354 286.215 44.6866 285.953 43.5793C285.69 42.4719 286.103 41.3135 287.006 40.623C318.956 18.2126 341.322 44.4648 343.814 50.8677C344.517 52.7886 345.156 55.3498 345.731 57.2707C345.95 58.3955 346.801 59.2907 347.911 59.5655C349.021 59.8402 350.19 59.4445 350.907 58.5513C353.853 55.2517 357.304 52.4421 361.131 50.2274C366.974 46.8945 373.577 45.13 380.301 45.105C398.129 45.105 441.007 59.8318 441.007 121.3C441.007 182.769 398.001 196.855 380.301 196.855ZM573.856 44.465H533.663C530.487 44.465 527.912 47.045 527.912 50.2276V190.452C527.912 191.992 527.297 193.467 526.205 194.55C525.112 195.633 523.633 196.232 522.097 196.215H488.165C486.64 196.215 485.177 195.608 484.099 194.527C483.02 193.446 482.414 191.981 482.414 190.452V50.2276C482.414 48.6993 481.808 47.2335 480.73 46.1528C479.651 45.0721 478.189 44.465 476.663 44.465H452.317C434.489 44.465 423.562 44.465 417.875 29.7382C415.769 19.4706 418.583 8.80746 425.479 0.924871C427.46 -0.996015 431.294 0.284576 430.655 2.84576C430.016 5.40694 432.508 8.60842 438.323 8.60842H575.07C578.247 8.60842 580.821 11.1884 580.821 14.3711V37.4217C580.119 41.9038 577.626 44.465 573.728 44.465H573.856ZM619.929 163.56C625.09 163.239 630.103 161.703 634.562 159.078C639.693 156.162 643.045 150.884 643.508 144.992V82.2426C643.478 79.7501 642.007 77.5017 639.738 76.4799C635.139 75.3462 630.362 75.1287 625.68 75.8396C572.003 78.4008 580.821 168.682 619.801 163.56H619.929ZM646.703 177.006C646.414 175.925 645.502 175.127 644.394 174.986C643.286 174.846 642.203 175.391 641.655 176.366C638.687 180.982 634.997 185.089 630.728 188.531C624.097 193.412 616.009 195.895 607.787 195.575C561.076 195.575 550.852 146.272 550.852 128.344C550.852 104.012 557.242 50.8679 617.948 50.8679C626.757 50.5003 635.575 51.3623 644.147 53.4291L644.85 50.8679C645.51 48.1489 647.769 46.1149 650.537 45.7455H683.829C685.355 45.7455 686.817 46.3526 687.896 47.4333C688.974 48.5141 689.58 49.9798 689.58 51.5082V150.754C689.58 157.797 687.663 178.287 702.36 183.409C703.392 183.77 704.13 184.686 704.265 185.772C704.401 186.858 703.91 187.927 702.999 188.531C667.854 209.021 651.751 192.245 646.575 177.006H646.703ZM817.382 120.66C817.382 84.8037 793.099 78.4007 785.431 78.4007C780.497 78.6074 775.671 79.9202 771.309 82.2425C769.265 83.5648 767.341 85.0646 765.558 86.7246C763.625 88.8296 762.493 91.5502 762.363 94.4081V147.425C762.428 150.812 763.83 154.035 766.261 156.389C771.464 160.588 778.066 162.648 784.728 162.151C792.972 161.639 817.254 152.035 817.254 120.66H817.382ZM796.294 196.855C789.885 197.007 783.526 195.693 777.699 193.013C774.469 191.25 771.465 189.1 768.753 186.61C767.936 185.765 766.696 185.488 765.598 185.906C764.5 186.324 763.756 187.356 763.705 188.531V244.237C763.705 247.42 761.13 250 757.954 250H724.023C722.503 250 721.047 249.391 719.978 248.308C718.91 247.225 718.318 245.759 718.335 244.237V80.9616C718.335 55.3498 714.438 47.0259 704.213 45.7453C703.097 45.5354 702.209 44.6866 701.946 43.5793C701.684 42.4719 702.096 41.3135 702.999 40.623C734.95 18.2126 757.315 44.4648 759.871 50.8677C760.51 52.7886 761.149 55.3498 761.724 57.2707C761.89 58.4329 762.744 59.3779 763.881 59.6593C765.019 59.9408 766.213 59.5024 766.9 58.5513C769.847 55.2517 773.298 52.4421 777.124 50.2274C782.967 46.8945 789.571 45.13 796.294 45.105C814.186 45.105 857 59.8318 857 121.3C857 182.769 814.059 196.855 796.167 196.855H796.294Z"
        fill="#15C5CE"
      />
    </svg>
  ),
  leancloud: (
    <svg
      width="929"
      height="147"
      viewBox="0 0 929 147"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M28.917 4.72504H0V143.64H88.074V118.314H28.917V4.72504ZM142.695 45.927C114.156 45.927 94.5 67.284 94.5 96.012C94.5 124.74 113.778 145.53 143.829 145.53C161.784 145.53 174.447 139.86 184.464 128.331L165.375 112.833C161.217 118.503 153.846 122.661 144.396 122.661C130.599 122.661 123.039 115.668 122.472 103.383H187.299V94.5C187.299 68.229 172.746 45.927 142.695 45.927ZM141.75 66.906C153.09 66.906 159.516 75.033 159.894 85.806H122.472C123.039 74.844 130.41 66.906 141.75 66.906ZM240.975 45.927C215.46 45.927 198.261 67.095 198.261 95.823C198.261 124.551 215.46 145.53 240.975 145.53C254.772 145.53 264.033 139.86 268.947 133.056L270.459 143.64H295.407V47.817H270.459L268.947 58.59C264.033 51.597 254.772 45.927 240.975 45.927ZM247.779 70.119C257.418 70.119 263.277 75.411 267.435 82.215V109.431C263.277 116.235 257.418 121.338 247.779 121.338C235.116 121.338 226.233 111.51 226.233 95.823C226.233 79.947 235.116 70.119 247.779 70.119ZM374.22 45.927C360.99 45.927 351.729 51.408 347.004 58.401L345.681 47.817H320.733V143.64H348.516V83.349C352.107 77.49 357.966 72.009 366.66 72.009C376.488 72.009 382.347 79.38 382.347 89.964V143.64H410.13V88.452C410.13 62.559 397.467 45.927 374.22 45.927ZM497.637 2.26801C455.868 2.26801 426.384 33.075 426.384 74.088C426.384 115.29 455.868 146.097 497.637 146.097C517.86 146.097 534.303 140.049 548.1 124.929L530.145 103.95C522.774 112.833 512.001 119.826 497.637 119.826C472.122 119.826 455.49 100.548 455.49 74.088C455.49 47.628 472.122 28.539 497.637 28.539C511.812 28.539 522.396 35.343 529.767 44.037L547.911 23.058C534.492 9.26104 519.561 2.26801 497.637 2.26801ZM590.058 0H562.275V143.64H590.058V0ZM658.287 45.927C629.181 45.927 608.013 67.284 608.013 96.012C608.013 124.74 629.181 145.53 658.287 145.53C687.393 145.53 708.939 124.74 708.939 96.012C708.939 67.284 687.393 45.927 658.287 45.927ZM658.287 70.119C671.328 70.119 680.778 81.27 680.778 96.012C680.778 110.565 671.328 121.338 658.287 121.338C645.435 121.338 635.985 110.565 635.985 96.012C635.985 81.27 645.435 70.119 658.287 70.119ZM813.267 47.817H785.484V108.108C781.704 113.967 776.223 119.448 767.151 119.448C757.701 119.448 752.409 112.266 752.409 101.871V47.817H724.626V103.383C724.626 129.087 736.533 145.53 759.213 145.53C773.01 145.53 781.893 140.238 786.996 133.245L788.319 143.64H813.267V47.817ZM928.179 0H900.207V56.511C895.671 51.219 887.355 45.927 873.747 45.927C848.232 45.927 831.033 67.095 831.033 95.823C831.033 124.551 848.232 145.53 873.747 145.53C887.544 145.53 896.805 139.86 901.719 133.056L903.231 143.64H928.179V0ZM880.551 70.119C890.19 70.119 896.049 75.411 900.207 82.215V109.431C896.049 116.235 890.19 121.338 880.551 121.338C867.888 121.338 859.005 111.51 859.005 95.823C859.005 79.947 867.888 70.119 880.551 70.119Z"
        fill="#2C97E8"
      />
    </svg>
  ),
};

interface LogoProps {
  noLabel?: boolean;
  noLink?: boolean;
  reversed?: boolean;
  size?: number;
}

const Logo = ({ noLabel, noLink, reversed, size = 1 }: LogoProps) => {
  const { siteConfig } = useDocusaurusContext();
  const mainDomainHost = (siteConfig.customFields?.mainDomainHost ??
    "") as string;
  const dcDomainHost = (siteConfig.customFields?.dcDomainHost ?? "") as string;

  const getHeight = (base: number): number => base * size;

  const LinkWrapper = ({ children }) =>
    noLink ? children : <a href={mainDomainHost}>{children}</a>;

  return (
    <div className={styles.logo}>
      <LinkWrapper>
        <div
          title={BRAND === "leancloud" ? "LeanCloud" : "TapTap"}
          className={`${styles.logoImage} ${reversed ? styles.reversed : ""}`}
          style={{
            height: getHeight(BRAND === "leancloud" ? 20 : 24),
            transform: BRAND === "leancloud" ? "none" : "translateY(1px)",
          }}
        >
          {BRAND === "leancloud" ? LOGOS.leancloud : LOGOS.tds}
        </div>
      </LinkWrapper>

      {BRAND === "tds" && !noLabel && (
        <a className={styles.label} href={dcDomainHost}>
          <Translate id="tds-header-开发者中心" description="from Header">
            开发者服务
          </Translate>
        </a>
      )}
    </div>
  );
};

export default Logo;
