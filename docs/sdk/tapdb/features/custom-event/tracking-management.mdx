---
title: 埋点管理
sidebar_position: 11
---

## 1. 概述

埋点管理为数据接入测试和日常使用过程中提供的数据管理功能，包括埋点信息、上报明细 2 个子模块，各子模块功能说明如下：

埋点信息页面可查看最近 7 日项目内数据接收情况，方便快速了解埋点上报整体情况，以及错误上报详情与抽样示例。

上报明细页面可查看「监测开关」开启期间近 1000 条的埋点上报明细，实时查看埋点上报日志，帮助用户快速测试、验收埋点开发。

## 2. 适用角色与用途

| 角色                           | 用途                                           |
| ---------------------------- | -------------------------------------------- |
| 埋点设计人员（数据产品经理 / 分析师）         | 测试与验收新埋点需求开发的上报结果，日常了解埋点整体运行情况，及时发现埋点错误      |
| 埋点开发人员（前端开发 / 客户端开发 / 测试工程师） | 实时查看埋点上报日志，测试埋点效果，快速定位埋点开发环节中的错误（建议在测试项目中启用） |

## 3. 埋点信息

埋点信息由「埋点信息主页」、「错误详情页」2 部分构成。

埋点信息主页

![埋点信息主页](/img/customEvent/tracking_manager_1.png)

错误详情页

![错误详情页](/img/customEvent/tracking_manager_2.png)

### 3.1 埋点信息主页

埋点信息支持查看最近 7 日项目内数据接收情况。

埋点信息主页由查询设置、区间数据、数据详情区域构成。

![埋点信息主页](/img/customEvent/tracking_manager_3.png)

#### 3.1.1 查询设置

查询时间筛选：查询时间指数据的接收时间。支持自定义查看最近 7 日任一时间段的数据接收情况，默认统计今日的数据。

属性名、显示名搜索：根据关键词对属性名、显示名进行过滤展示。

![查询设置](/img/customEvent/tracking_manager_4.png)

#### 3.1.2 区间数据

展示所筛选时间段内所有数据的已接收、已入库、错误入库和入库失败数。

![区间数据](/img/customEvent/tracking_manager_5.png)

#### 3.1.3 数据详情

数据名称：事件的埋点上报为相应的事件名，设置用户属性的埋点上报为「用户属性」，无法识别为以上两类的则为「未知数据」；

显示名：数据名称对应的显示名；

已接收：系统接收的数据；

已入库：包括正确入库和错误入库数据；

错误入库：包含如事件属性名不合法、属性类型不合法等属性级别错误的数据，该类数据可正常入库，错误属性置空；

入库失败：因数据格式不合法、数据名不合法导致无法入库的数据。

错误详情：点击进入该数据的错误详情页，查看按照错误原因展示的错误详情。

![数据详情](/img/customEvent/tracking_manager_6.png)

### 3.2 错误详情页

数据详情页展示各事件或用户属性下的错误入库和入库失败数据，错误信息按照错误原因展示。

错误详情页由查询设置、区间数据、数据详情区域构成。

![错误详情页](/img/customEvent/tracking_manager_7.png)

#### 3.2.1 数据详情

错误条数：指含有该错误原因的数据条数。

错误类型、处理结果：指该错误的所属错误类型与 TapDB 对其处理的结果，便于用户对具体错误原因进行筛选。

查看抽样：查看符合该错误原因的上报数据的详细内容，每条上报数据均可选择格式化查看与一键复制。

![数据详情](/img/customEvent/tracking_manager_8.png)

#### 3.2.2 错误条数的计算原理

「错误条数」是对触发该错误原因的上报数据进行计数得到的结果，而埋点管理中的「错误原因」，是发生在「属性」层面的。

当仅上报 1 条某事件的日志时，其中字段 1 属性名不合法，字段 2 属性类型不合法，则该日志会同时触发 2 个错误原因，分别在两类错误原因下计算错误条数，因而数据详情汇总的错误条数的加和存在大于错误日志条数的可能。

## 4. 上报明细 {#realtime}

上报明细展示最近 1000 条「监测开关」开启期间的上报日志明细，并展示其入库的处理结果。

![上报明细](/img/customEvent/tracking_manager_9.png)

「监测开关」开启时，系统接收的埋点日志将实时展示在上报明细中，开启时长达到 1 小时，则自动关闭，不再对数据进行实时展示，任何时候重新开启开关都将重置 1 小时的时间进度。建议在测试、验收埋点开发前，手动开启「监测开关」。

点击刷新按钮，可刷新页面获取最新数据。

每行上报日志明细都可进行格式化查看、复制操作。

## 5. 使用埋点管理

### 5.1 及时发现埋点错误

使用埋点信息页面，掌握埋点整体运行情况，当出现未知数据，或部分数据错误入库、入库失败时，可在错误详情页定位错误，防止数据资产流失。

### 5.2 使用上报日志对埋点需求进行测试、验收

在埋点开发人员完成开发后，埋点设计人员可模拟用户在游戏中的各类点击行为，而后在「上报日志」中查看实时上报日志，检查上报时机与日志明细是否符合埋点设计方案，从而对埋点需求进行测试、验收。
