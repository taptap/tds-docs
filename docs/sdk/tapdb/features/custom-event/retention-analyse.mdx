---
title: 留存分析
sidebar_position: 4
---

## 一、引入案例

游戏经常会进行更新或改版，那改版之后的留存率有什么变化，我们可以用「留存分析」的功能进行分析和呈现。

**1、设置事件**：由于我们聚焦在用户对游戏的整体留存情况，所以我们将用户的初始事件和回访事件设定为「账号登录」。

![](/img/customEvent/retention/LC-1-1.png)

**2、设置维度**：由于我们关注的是版本更新对留存是否有影响，所以在维度里选择「App 版本号」；
![](/img/customEvent/retention/LC-1-2.png)

**3、设置展示结果**：设置时间区间和其他参数；
![](/img/customEvent/retention/LC-1-3.png)

**4、保存报表**：查看分析结果，并将分析结果保存为报表。
![](/img/customEvent/retention/LC-1-4.png)

## 二、什么是留存分析

留存，就是玩家在你的游戏中留下来、持续使用。

只有做好了留存，才能保障新玩家在注册后不会白白流失。有时候我们仅看日活（DAU），会觉得数据不错，但有可能是因为近期有密集的运营拉新活动，注入了大量的新用户，但是留下来的用户不一定在增长，可能在减少，只不过被新用户数掩盖了所以看不出来。这就好像一个不断漏水的篮子，如果不去修补底下的裂缝，而只顾着往里倒水，是很难获得持续的增长的。

一般我们讲的留存率，是指「目标玩家」在一段时间内「回到游戏中完成某个行为」的比例。常见的指标有次日留存率、七日留存率、次周留存率等。比如：某个时间获取的「新玩家」的「次日留存率」常用来度量拉新效果。

## 三、留存分析的支持场景

1. 完成登录（初始事件）的玩家中，有多少玩家在接下来一个月进行了充值操作（回访事件）；
2. 升级到 VIP 9 级（初始事件）的玩家在接下来一个月购买了多少礼包（回访事件）；
3. 想判断某项游戏改动是否奏效，如新增了一个英雄角色，观察是否有人因新增角色而多使用游戏几个月；

## 四、如何做留存分析

如案例所述，留存分析可以分为 4 个步骤：

**1、设置事件**；

**2、设置维度；**

**3、设置展示结果；**

**4、保存报表；**

### 4.1 设置事件

#### 4.1.1 设置初始事件和回访事件

在漏斗分析页面，点击「选择事件」，在「选择事件」界面分别选择初始事件以及回访事件，可以分别对其做筛选。值得注意的是，针对初始 / 回访的筛选条件里， 只允许选择事件属性，如果想要选择用户属性的过滤，可以在全局筛选中进行。
![](/img/customEvent/retention/LC-2-1.png)

#### 4.1.2 设置「同时展示」

设计该功能的主要目的是对触发回访事件的用户进行深入分析。比如：  
我想统计完成登录的用户中有多少用户完成了付费，并且，我还想统计这些完成付费的用户的充值总金额。  
在下图中，就是使用「同时展示」功能对付费用户再做一次付费金额阶段累计总和的统计。

![](/img/customEvent/retention/LC-2-2-1.png)

与事件分析模版不同，同时展示功能中，针对数值类型的属性，分析角度由「总和、中位数、均值、最大值、最小值、人均值、去重数」变为了「总和、人均值、阶段累计总和、阶段累计人均」。而且，此处仅可选数值类型和布尔类型的属性，不能选时间、字符串、列表类型的属性，因为这些类型的属性不能统计「阶段累计」。利用「同时展示」功能，我们可以分析完成回访事件的用户在接下来一段时间的某某属性值的阶段累计总和 / 人均，比如 LTV，n 日付费，累计副本伤害值，累计人均购买礼包数等等。

| 指标描述 / 数据类型 | 分析角度                 |
| ----------- | -------------------- |
| 数值型         | 总和、人均值、阶段累计总和、阶段累计人均 |
| 布尔型         | 为真数、为假数、为空数、不为空数     |

**除上表列出的各数值类型的分析角度之外，任意事件任意数值类型都具备的默认分析角度为：总次数、触发用户数、人均次数。**
**「阶段累计」是同时展示功能的核心价值体现。同时展示最多只能做一项分析。**

### 4.2 设置维度

留存分析里「事件发生时间」为必选维度，因为留存天然与时间关联。除了时间维度外，还可再选最多 4 个维度。

![](/img/customEvent/retention/LC-2-3.png)

### 4.3 设置展示结果

留存分析的报表依然是透视表形态，与事件分析报表不同的是，「事件发生时间」这一个维度是不能拖拽改变先后聚合顺序的，只能在第一列。

![](/img/customEvent/retention/LC-2-4.png)

#### 4.3.1 选择留存的分析期限

![](/img/customEvent/retention/LC-2-5.png)

留存的分析期限默认为 7 日。点击之后下拉框可选：当日、次日、7 日、14 日、30 日、当周、次周、4 周、8 周、16 周、当月、次月、3 月、6 月、12 月。

除上述时间以外，客户也可以自己手动填写 n 日，n 周，n 月。

如果所选留存的分析期限过长，比如选了 180 天，会因为数据量过大导致计算缓慢，此时可以使用「仅显示关键日期」，

- 日的关键日期为：1、7、14、21、30、60、90、120、150、180、360 日；
- 周的关键日期为：1、4、8、16、24、32、40、48、52 周；
- 月的关键日期为：1、3、6、12、24 月；

勾选「仅显示关键日期」后，仅查询上述时间点的留存情况，从而可以缩短查询时间。当所选留存期限大于 90 天时，系统会自动勾选「仅显示关键日期」。

#### 4.3.2 留存 / 流失

![](/img/customEvent/retention/LC-2-6.png)

n 日留存的判断逻辑：触发了初始事件的玩家（假设数量为 a）在第 n 日有 b 人触发了回访事件，「留存百分比」即为 b/a。  
n 日流失的判断逻辑：触发了初始事件的玩家（假设数量为 a）在之后的第 1 日至第 n 日（持续时间）有 b 人没有触发回访事件，b 即为第 n 日的「流失用户」数量。「流失百分比」即为 b/a。

#### 4.3.3 显示数量 / 百分比

报表右侧可选择显示全部 / 仅显示百分比 / 仅显示数量。

![](/img/customEvent/retention/LC-2-7-2.png)

### 4.4 保存报表

![](/img/customEvent/retention/LC-2-7-3.png)

将设置好的查询结果保存为报表，再基于报表创建看板，留存分析结果一触即达。
