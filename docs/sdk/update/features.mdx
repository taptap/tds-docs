---
title: 更新唤起
sidebar_label: 功能介绍
---

## 功能介绍

- 更新唤起功能主要应用于在 TapTap 国内商店分发的游戏包体更新场景，包括普通更新和强制更新。目前仅支持安卓。
- 使用更新唤起功能，需接入 TapSDK，开发者在判断游戏需要更新后调用 TapSDK 相关功能接口，就会唤起 TapTap 客户端，引导用户前往 TapTap 完成更新。
- 游戏接入 TapSDK 更新唤起功能后，除了判断版本号外，游戏无需自行开发更新流程，同时可以节省下载新版本所需要付出的流量成本。

## 接入要求

- 针对新游戏，开发者需要在 TapTap 上线一个包含 APK 包（用于平台获取游戏包名，包名需与后续更新的包名保持一致）的商店资料版本，如果 APK 包当前无法对外，可将发布状态设置为 “敬请期待” 或 “预约”。
- 针对已上架的游戏，需确保更新资料版本中的 APK 包名和已上架的 APK 包名保持一致。

## 核心业务流程
 
游戏需先判断用户当前版本是否需要更新，如果需要，则直接调用 TapSDK 更新接口。TapSDK 会检查设备是否已安装 TapTap 客户端来进入不同的更新流程。

### 已安装 TapTap 客户端

- TapSDK 会直接唤起 TapTap 客户端，并跳转至游戏更新页面，引导用户完成更新。在唤起 TapTap 客户端的时候，设备可能会有打开第三方 APP 的提示（不同设备提示样式会有差异，下图仅为参考），用户需同意后，才可打开 TapTap，然后根据页面引导完成游戏更新即可。

![](https://capacity-files.lcfile.com/QYmMRYNyQdERMbVBDpdzdrclKIYJ6HcH/update-01.png)

### 未安装 TapTap 客户端

- 如果检查当前设备没有 TapTap 客户端，首先会询问用户“是否需要使用 TapTap 更新”（见下图）。

![](https://capacity-files.lcfile.com/p6EofV5UlkWNgTi2sxROY4XjSWyScOfe/update-02.png)

- 用户确认更新后，则会开始直接下载 TapTap 客户端，下载完成后会自动向设备请求安装，用户根据设备引导完成安装即可（见下图）。

![](https://capacity-files.lcfile.com/05g1cDq1tLjDnHmmODMmbKUFHy0NzyS0/update-03.png)

- TapTap 客户端下载并安装成功后，将会继续跳转 TapTap 更新游戏页面，有部分安卓设备会引导用户返回游戏，SDK 内也会提示用户“打开 TapTap 去更新“（见下图）。用户打开 TapTap 后，根据页面引导完成游戏更新即可。

![](https://capacity-files.lcfile.com/wuprYiOr9iBSe79U5pyG3NOuEakVTxc3/update-04.png)

- 针对以上流程，用户如果选择关闭弹窗或取消等中断更新游戏的行为，TapSDK会提供相关的回调接口，方便开发者接管用户后续行为。
