---
title: 常见问题
sidebar_label: 常见问题
sidebar_position: 4
---

###  兑换参数完备，但请求兑换时返回 403。

请检查您请求的 header 是否有带上特殊的 User Agent。

###  二次校验是需要游戏方请求两次兑换接口吗？

使用二次校验需要您按照规范开发校验接口并将地址配置到后台中，由兑换系统发起请求。

###  无服务器返回值的 content 参数无法解析？

返回值的 content 是一段嵌套的 json 字符串，可以先读出字符串再进行进一步 json 解析，除此之外还新增了 content_obj 字段，可以有选择的去使用。

###  如何判断兑换是否成功？

可以根据返回值中的 error 字段是否为 0 来判断。

###  无服务器兑换的 sign 字段如何使用？

可以参考文档的[签名部分](/sdk/tds-gift/guide/#签名)。

###  Unity 请求无服务器兑换接口报错 HTTP/1.1 422 Unprocessable Entity

可以通过 **开发者后台 -> 礼包服务** 检查活动开关是否打开，以及礼包码是否失效。

### 礼包生成时出错，时间不能超过 2040 年

当前最大礼包时间为 2038-01-19 11:14:07。

### 三种兑换场景的区别是什么？

| 兑换方式  |   所需接口    |     特点    |
| --------------- | ------------- |------------- |
| 游戏方校验        |   兑换接口、二次校验接口、礼包发放接口    |   游戏方需要维护校验与发放两个接口；可根据礼包领取条件自行判断是否符合，并可以将礼包条件校验逻辑与礼包发放逻辑分开维护处理        |
| 游戏方发送        |   兑换接口、礼包发放接口                |   游戏方仅需维护一个发放接口；可以通过发放接口进行领取条件的判断以及礼包的发放       |
| 无服务器兑换      |   兑换接口                            |   仅判断兑换码是否有效以及码量，兑换码有效即返回礼包信息；流程更简单，无需自行维护接口       |

### 调用礼包兑换接口报：{"error":100016,"message":"该礼包码无效码","info":{"dev_message":"invalid code","hint":"gift code is invalid"}} 异常。

检查接口中传递的礼包码是否错误，礼包码可以在 **Tap 开发者中心 > 你的游戏 > 运营工具 > 礼包 > 礼包活动 > 数据 > 导出** 进行导出。点击 `导出` 按钮后会生成 `.csv` 文件，可以在该文件中查看礼包码。

### 调用 `游戏方发送` 礼包兑换接口报：{"error":100015,"message":"发送道具失败"} 异常。

该异常说明调用接口时传递的参数正确、签算也正确，可能是游戏侧服务端的发送道具的接口出了异常，需要游戏侧检查自己的发送道具接口是否正常。