---
title: 准备工作
sidebar_position: 3
---

import {Conditional} from '/src/docComponents/conditional';

为了能使用 TapTap 开发者服务（TapTap Developer Services，简称 TDS 服务），你需要完成前期的配置工作。

## 创建应用

在使用 TDS 服务之前，你需要创建一个应用，来完成对接前的准备工作。创建应用请参考[商店指南](/store/store-creategame/)。

## 开启应用配置

依次进入 **TapTap 开发者中心 > 你的游戏 > 游戏服务 > 应用配置**，点击「开启」，获得当前应用的基本信息。

### 基本信息

`Client ID` 是一个应用实体包在 TapTap 开发者中心的唯一身份标识，TapTap 通过 `Client ID` 来鉴别应用的身份。每个应用仅能拥有一个 `Client ID`，如同一个应用区分测试服与正式服，需要创建两个不同的应用，分别开启应用配置。

### 适用地区

<Conditional region='cn'>

一个 client 仅能对应一个地区。这是由于在 TapTap 的账号系统内，将中国大陆用户与全球用户做了隔离区分，互不相通。

在 [TapTap 开发者中心](https://developer.taptap.com/)后台开启服务配置，适用地区为中国大陆。

![](/img/tap_get_ready.png)

:::info
出海游戏可前往 [TapTap 国际版开发者中心](https://developer.taptap.io/)创建游戏，开启游戏服务时适用地区为其他国家或地区。
:::

</Conditional>

<Conditional region='global'>

在[TapTap 开发者中心](https://developer.taptap.io/)后台开启服务配置，适用地区为中国大陆以外的国家或地区。

</Conditional>

## 域名

<Conditional region='global'>

如果使用了 TDS 提供的云服务，初始化 SDK 需要在 `server_url` 处填入 API 域名，开发者可以使用 TDS 提供的 **共享域名**，可前往 **开发者中心 > 你的游戏 > 游戏服务 > 应用配置 > 域名配置** 获取。

</Conditional>

<Conditional region='cn'>

如果使用了 TDS 提供的云服务，需要绑定 API 自定义域名，以便和其他厂商的应用隔离入口，避免其他应用受到 DDoS 攻击时相互牵连。

如果使用了数据存储中的文件服务，包括即时通讯的多媒体消息（图像、音频、视频等），需要绑定文件访问域名。

下面简单介绍一下绑定域名的步骤。

#### 绑定 API 域名

绑定 API 域名的前提是，你拥有一个**已经完成备案的域名**。假设你的域名为 `example.com`，API 域名绑定步骤和状态如下：

![domain guide](/img/domain-guide.png)

* 进入 **开发者中心 > 你的游戏 > 游戏服务 > 应用配置 > 域名配置** ，点击 **「绑定新域名」** 按钮。API 域名不支持直接绑定裸域名，需要在主域名的前面添加自定义名称，也就是绑定一个子域名，比如这里你可以绑定 `api.example.com`。

* 控制台显示 **「正在检查备案信息」**，请等待一会儿。

* 如果域名没有完成备案，将会显示 **「绑定失败」**。

* 域名备案检查通过，域名下方显示 **「请配置 DNS」**。

* 此时需要到你的域名服务商控制台，进入域名解析设置页面，添加一条记录，记录类型为 A（A 记录可以将域名指向一个 IP 地址），请将前面填到开发者后台的自定义域名和 **「推荐 DNS 配置」** 下方 A 记录值复制到对应位置。

* DNS 解析记录和证书申请（如果选择了自动管理 SSL 证书）都需要一定时间，请耐心等待。记录生效后，控制台便会显示 **「已绑定」**。

初始化 SDK 时，在 `server_url` 处即可传入绑定的自定义域名 `https://api.example.com`，这里用的是示例，请换成你自己绑定的 API 域名，注意不要遗漏前面的 `https://`。

每个子域名只能绑定到一个游戏，且 API 域名和文件域名不可使用同样的子域名。如果你已经在 TDS 控制台绑定了某个子域名，重复绑定时控制台会显示「该域名已经被其他应用所绑定」，此时可以更换同一主域名下不同的子域名，来完成后续绑定步骤。

配置域名需要一定的时间，TDS 为开发者提供了 **共享域名** 在游戏测试时使用，但共享域名没有可用性保证，容易受到 DDoS 攻击影响。游戏上线前，一定要确认使用的 API 访问域名是开发者自己绑定的域名，请勿将共享域名用于生产环境。

#### 绑定文件域名

可前往 **开发者中心 > 你的游戏 > 游戏服务 > 云服务 > 数据存储 > 文件 > 设置 > 文件访问域名** 绑定文件域名，步骤和 API 自定义域名基本相同。但有两点不一样：

1. API 域名解析使用 A 记录，文件域名解析使用 CNAME 记录。文件域名同样不支持绑定裸域名，需要绑定子域名。例如你的主域名是 `example.com`，可以绑定文件域名为`files.example.com`。

2. 绑定成功后，还需在 **文件 > 设置 > 文件访问地址** 点击「修改」按钮进行切换。

</Conditional>

## 隐私声明

集成账号服务的功能，需要先签订[《TapTap 平台开发者协议》](/store/store-devagreement/)。使用 TDS 服务，视为你同意前述所有协议，且你将基于这些协议承担相应的法律责任与义务。

