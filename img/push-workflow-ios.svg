<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="1420 0 640 360">
  <defs>
    <style>
      .cls-1 {
        clip-path: url(#clip-push-workflow-ios);
      }

      .cls-2, .cls-7 {
        fill: none;
      }

      .cls-2, .cls-3, .cls-7 {
        stroke: #333;
        stroke-width: 2px;
      }

      .cls-2 {
        stroke-linecap: square;
      }

      .cls-2, .cls-7, .cls-8 {
        fill-rule: evenodd;
      }

      .cls-12, .cls-3 {
        fill: #fff;
      }

      .cls-4, .cls-6, .cls-8, .cls-9 {
        fill: #333;
      }

      .cls-4, .cls-6 {
        font-size: 16px;
      }

      .cls-5, .cls-6, .cls-10,.cls-9,.cls-11, .cls-4, text, tspan {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, "PingFang SC", "Microsoft Yahei", "WenQuanYi Micro Hei", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        fill: #333;
      }
      #caption, #caption tspan {
        fill: #999;
      }

      .cls-7 {
        stroke-dasharray: 5.995 2.997;
      }

      .cls-9 {
        font-size: 14px;
      }
    </style>
    <clipPath id="clip-push-workflow-ios">
      <rect x="1420" width="640" height="360"/>
    </clipPath>
  </defs>
  <g id="push-workflow-ios" class="cls-1">
    <rect class="cls-12" x="1420" width="640" height="360"/>
    <g id="apns-registration2" transform="translate(1420 1)">
      <g id="apns-registration">
        <g id="content" transform="translate(41 76)">
          <g id="column-4" transform="translate(492)">
            <path id="Line-1" class="cls-2" d="M85,28.5v190" transform="translate(-43 -0.5)"/>
            <g id="column-1-top">
              <rect id="Rectangle" class="cls-3" width="85" height="33"/>
              <text id="LeanCloud_iOS_SDK" data-name="LeanCloud iOS SDK" class="cls-4" transform="translate(10.5 22.5)"><tspan x="0" y="0">iOS </tspan><tspan class="cls-5" y="0">设备</tspan></text>
            </g>
            <g id="column-1-bottom" transform="translate(0 219)">
              <rect id="Rectangle-2" data-name="Rectangle" class="cls-3" width="85" height="33"/>
              <text id="LeanCloud_iOS_SDK-2" data-name="LeanCloud iOS SDK" class="cls-4" transform="translate(10.5 22.5)"><tspan x="0" y="0">iOS </tspan><tspan class="cls-5" y="0">设备</tspan></text>
            </g>
          </g>
          <g id="column-3" transform="translate(344)">
            <path id="Line-2" class="cls-2" d="M33,28.5v190"/>
            <g id="column-2-top">
              <rect id="Rectangle-Copy-2" class="cls-3" width="65" height="33"/>
              <text id="APNs" class="cls-4" transform="translate(12.051 22)"><tspan x="0" y="0">APNs</tspan></text>
            </g>
            <g id="column-2-bottom" transform="translate(0 219)">
              <rect id="Rectangle-Copy-2-2" data-name="Rectangle-Copy-2" class="cls-3" width="65" height="33" transform="translate(1)"/>
              <text id="APNs-2" data-name="APNs" class="cls-4" transform="translate(12.051 22)"><tspan x="0" y="0">APNs</tspan></text>
            </g>
          </g>
          <g id="column-1" transform="translate(-21)">
            <path id="Line-2-2" data-name="Line-2" class="cls-2" d="M33,28.5v190" transform="translate(0.5)"/>
            <g id="column-2-top-2" data-name="column-2-top" transform="translate(0.5)">
              <rect id="Rectangle-Copy-2-3" data-name="Rectangle-Copy-2" class="cls-3" width="65" height="33" transform="translate(0.5)"/>
              <text id="APNs-3" data-name="APNs" class="cls-6" transform="translate(9 22)"><tspan x="0" y="0">开发者</tspan></text>
            </g>
            <g id="column-2-bottom-2" data-name="column-2-bottom" transform="translate(-0.5 219)">
              <rect id="Rectangle-Copy-2-4" data-name="Rectangle-Copy-2" class="cls-3" width="65" height="33" transform="translate(1.5)"/>
              <text id="APNs-4" data-name="APNs" class="cls-6" transform="translate(10 22)"><tspan x="0" y="0">开发者</tspan></text>
            </g>
          </g>
          <g id="column-2" transform="translate(127 -0.5)">
            <path id="line-3" class="cls-2" d="M68,30V220"/>
            <g id="column-3-top">
              <rect id="Rectangle-Copy" class="cls-3" width="136" height="33" transform="translate(0 0.5)"/>
              <text id="LeanCloud_云端" data-name="LeanCloud 云端" class="cls-4" transform="translate(11.078 23)"><tspan x="0" y="0">云端</tspan></text>
            </g>
            <g id="column-3-bottom" transform="translate(0 219)">
              <rect id="Rectangle-Copy-2-5" data-name="Rectangle-Copy" class="cls-3" width="136" height="33" transform="translate(0 0.5)"/>
              <text id="LeanCloud_云端-2" data-name="LeanCloud 云端" class="cls-4" transform="translate(11.078 23)"><tspan x="0" y="0">云端</tspan></text>
            </g>
          </g>
          <g id="direction-2" transform="translate(490.013 310) rotate(180)">
            <path id="dotted-line" class="cls-7" d="M178.683-5.333H.986" transform="translate(296 140.167) rotate(180)"/>
            <path id="arrow-left" class="cls-8" d="M201.366-10.486,210-5.5,201.366-.513Z" transform="translate(323 140) rotate(180)"/>
          </g>
          <g id="direction-1" transform="translate(12 89)">
            <path id="Line" class="cls-2" d="M.5,5H177.09" transform="translate(178.09 10) rotate(180)"/>
            <path id="arrow-right" class="cls-8" d="M202,9.986,210.635,5,202,.014Z" transform="translate(-27)"/>
          </g>
          <g id="direction-3" transform="translate(85 161)">
            <path id="Line-2-3" data-name="Line" class="cls-2" d="M.5,32H148.373" transform="translate(291.5)"/>
            <path id="arrow-right-2" data-name="arrow-right" class="cls-8" d="M396,36.986,404.635,32,396,27.014Z" transform="translate(44)"/>
          </g>
          <text id="_下发_deviceToken" data-name="➋ 下发 deviceToken" class="cls-9" transform="translate(421 181)"><tspan x="0" y="0">➌</tspan><tspan class="cls-10" y="0"> </tspan><tspan class="cls-5" y="0">发送推送</tspan></text>
          <text id="_找出__Installation_记录中对应的_deviceToken_调用_APNs_API_发送推送" data-name="➋ 找出 _Installation 记录中对应的 deviceToken，调用 APNs API 发送推送" class="cls-9" transform="translate(210 96)"><tspan x="0" y="15">➋</tspan><tspan class="cls-11" y="15"> </tspan><tspan class="cls-5" y="15">找出</tspan><tspan class="cls-11" y="15" xml:space="preserve"> _Installation </tspan><tspan class="cls-5" y="15">记录</tspan><tspan class="cls-5" x="0" y="35">中对应的</tspan><tspan class="cls-11" y="35" xml:space="preserve"> deviceToken</tspan><tspan class="cls-5" y="35">，</tspan><tspan class="cls-5" x="0" y="55">调用</tspan><tspan class="cls-11" y="55" xml:space="preserve"> APNs API </tspan><tspan class="cls-5" y="55">发送推送</tspan></text>
          <text id="_HTTPS_请求推送_API" data-name="➊ HTTPS 请求推送 API" class="cls-9" transform="translate(27 64)"><tspan x="0" y="15">➊</tspan><tspan class="cls-10" y="15" xml:space="preserve"> HTTPS </tspan><tspan class="cls-5" y="15">请求推送</tspan><tspan class="cls-10" y="15" xml:space="preserve"> API</tspan></text>
        </g>
        <text id="caption" data-name="注册 APNs (Apple Push Notification Service) 服务时序图" class="cls-4" transform="translate(264 45)"><tspan x="0" y="0">iOS </tspan><tspan class="cls-5" y="0">推送时序图</tspan></text>
      </g>
    </g>
  </g>
</svg>
